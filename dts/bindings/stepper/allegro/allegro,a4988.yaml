# SPDX-FileCopyrightText: Copyright (c) 2025 Marvin Ouma
# SPDX-License-Identifier: Apache-2.0

description: |
  Allegro A4988 stepper motor driver.

  Example:
  a4988: a4988 {
    status = "okay";
    compatible = "allegro,a4988";

    step-gpios = <&gpio0 15 GPIO_ACTIVE_HIGH>;
    dir-gpios = <&gpio0 2 GPIO_ACTIVE_HIGH>;
    en-gpios = <&gpio0 4 GPIO_ACTIVE_HIGH>;
    msx-gpios = <&gpio0 16 GPIO_ACTIVE_HIGH>,
                <&gpio0 17 GPIO_ACTIVE_HIGH>,
                <&gpio0 5 GPIO_ACTIVE_HIGH>;
  };

compatible: "allegro,a4988"

include:
  - name: stepper-controller.yaml
    property-allowlist:
      - micro-step-res
      - step-gpios
      - dir-gpios
      - en-gpios


properties:
  msx-gpios:
    type: phandle-array
    description: |
      An array of GPIO pins for configuring the microstep resolution of the driver.
      The pins should be listed in the following order:
        - MS1
        - MS2
        - MS3

  sleep-gpios:
    type: phandle-array
    description: Sleep pin

  reset-gpios:
    type: phandle-array
    description: Reset pin
